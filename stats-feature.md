# çµ±è¨ˆåŠŸèƒ½æ¸¬è©¦èªªæ˜

## ğŸ¯ æ–°å¢çš„çµ±è¨ˆåŠŸèƒ½

### 1. **å½ˆå‡ºçª—å£ (popup.html)**
- åœ¨æ­·å²è¨˜éŒ„ä¸­é¡¯ç¤ºæ¯å€‹çŸ­ç¶²å€çš„çµ±è¨ˆè³‡æ–™
- æ ¼å¼ï¼š`ğŸ“Š 145 visits â€¢ 112 visitors â€¢ 2 referers`
- çµ±è¨ˆè³‡æ–™æœƒåœ¨è¼‰å…¥æ­·å²æ™‚è‡ªå‹•ç²å–

### 2. **æ­·å²é é¢ (history.html)**
- æ–°å¢ã€ŒğŸ”„ Refresh Statsã€æŒ‰éˆ•
- é»æ“Šå¯ä»¥é‡æ–°æ•´ç†æ‰€æœ‰çŸ­ç¶²å€çš„çµ±è¨ˆè³‡æ–™
- çµ±è¨ˆè³‡æ–™æœƒæ°¸ä¹…ä¿å­˜åœ¨ç€è¦½å™¨å­˜å„²ä¸­

## ğŸ“Š API å‘¼å«èªªæ˜

### çµ±è¨ˆ API ç«¯é»
```
GET {baseUrl}/api/stats/counters?slug={slug}
```

### è«‹æ±‚ç¯„ä¾‹
```
GET https://aiurl.tw/api/stats/counters?slug=104
Headers:
  authorization: Bearer YOUR_TOKEN
  content-type: application/json
```

### å›æ‡‰æ ¼å¼
```json
{
  "meta": [
    {"name": "visits", "type": "UInt64"},
    {"name": "visitors", "type": "UInt64"},
    {"name": "referers", "type": "UInt64"}
  ],
  "data": [
    {
      "visits": "145",
      "visitors": "112", 
      "referers": "2"
    }
  ],
  "rows": 1
}
```

## ğŸ”§ æŠ€è¡“å¯¦ä½œ

### æª”æ¡ˆæ›´æ–°ï¼š
1. **utils.js** - æ–°å¢å…±ç”¨çµ±è¨ˆå‡½æ•¸
2. **popup.js** - åœ¨è¼‰å…¥æ­·å²æ™‚ç²å–çµ±è¨ˆ
3. **history.js** - æ–°å¢åˆ·æ–°çµ±è¨ˆåŠŸèƒ½
4. **popup.html** - å¼•å…¥ utils.js å’Œçµ±è¨ˆæ¨£å¼
5. **history.html** - æ–°å¢åˆ·æ–°æŒ‰éˆ•å’Œ utils.js

### è³‡æ–™çµæ§‹ï¼š
æ­·å²è¨˜éŒ„ç¾åœ¨åŒ…å« `stats` æ¬„ä½ï¼š
```javascript
{
  original: "https://example.com",
  short: "https://aiurl.tw/abc123",
  title: "Example Page",
  comment: "Test comment",
  slug: "abc123",
  expiration: "7d",
  stats: {
    visits: 145,
    visitors: 112, 
    referers: 2
  },
  createdAt: 1694123456789
}
```

## ğŸš€ ä½¿ç”¨æ–¹å¼

### å½ˆå‡ºçª—å£ï¼š
1. é»æ“Šæ“´å±•åœ–æ¨™
2. æŸ¥çœ‹ã€ŒRecent URLsã€å€å¡Š
3. çµ±è¨ˆè³‡æ–™æœƒè‡ªå‹•é¡¯ç¤ºåœ¨æ¯å€‹é …ç›®ä¸‹æ–¹

### æ­·å²é é¢ï¼š
1. é»æ“Šã€ŒView Allã€é€²å…¥å®Œæ•´æ­·å²é é¢
2. é»æ“Šã€ŒğŸ”„ Refresh Statsã€é‡æ–°æ•´ç†çµ±è¨ˆ
3. çµ±è¨ˆè³‡æ–™æœƒé¡¯ç¤ºåœ¨æ¯å€‹ç¶²å€ä¸‹æ–¹

## âš ï¸ æ³¨æ„äº‹é …

1. **API é™åˆ¶**ï¼šçµ±è¨ˆ API éœ€è¦æœ‰æ•ˆçš„æˆæ¬Šä»¤ç‰Œ
2. **æ•ˆèƒ½è€ƒé‡**ï¼šå¤§é‡æ­·å²è¨˜éŒ„å¯èƒ½éœ€è¦è¼ƒé•·è¼‰å…¥æ™‚é–“
3. **éŒ¯èª¤è™•ç†**ï¼šå¦‚æœ API ç„¡æ³•å­˜å–ï¼Œæœƒé¡¯ç¤º 0 çµ±è¨ˆ
4. **å¿«å–æ©Ÿåˆ¶**ï¼šçµ±è¨ˆè³‡æ–™æœƒä¿å­˜åœ¨æœ¬åœ°ï¼Œé¿å…é‡è¤‡è«‹æ±‚

## ğŸ› æ•…éšœæ’é™¤

å¦‚æœçµ±è¨ˆè³‡æ–™ç„¡æ³•é¡¯ç¤ºï¼š
1. æª¢æŸ¥ API è¨­å®šæ˜¯å¦æ­£ç¢º
2. ç¢ºèªæˆæ¬Šä»¤ç‰Œæœ‰æ•ˆ
3. æª¢æŸ¥ç¶²è·¯é€£ç·š
4. æŸ¥çœ‹ç€è¦½å™¨ä¸»æ§å°çš„éŒ¯èª¤è¨Šæ¯

çµ±è¨ˆåŠŸèƒ½ç¾åœ¨å·²å®Œå…¨æ•´åˆåˆ°æ“´å±•ä¸­ï¼
